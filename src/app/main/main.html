<!-- HEADER DIRECTIVE -->
<app-header></app-header>
<!-- Left side column. contains the logo and sidebar -->
<aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
        <!-- Sidebar user panel -->
        <div class="user-panel">
            <div class="pull-left image">
                
            </div>
        </div>
        <!-- search form -->
        <form action="#" method="get" class="sidebar-form">
            <div class="input-group">
                <input type="text" name="q" class="form-control" placeholder="Search...">
                <span class="input-group-btn">
                    <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
        <!-- /.search form -->
        <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu">
            <li class="header">MAIN NAVIGATION</li>
            <li class="active treeview"><a href="#"><i class="fa fa-dashboard"></i> <span>Dashboard</span></a></li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-files-o"></i>
                    <span>Products Transactions</span>
                    <span class="label label-primary pull-right">4</span>
                </a>
            </li>
        </ul>
    </section>
    <!-- /.sidebar -->
</aside>
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Dashboard
            <small>Version 2.0</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li class="active">Dashboard</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <!-- Info boxes -->
        <div class="row">
            <div class="col-md-3 col-sm-6 col-xs-12">
                <div class="info-box">
                    <span class="info-box-icon bg-aqua"><i class="fa fa-users"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Guest Accounts</span>
                        <span class="info-box-number">{{vm.guestaccounts.length}}</span>
                    </div><!-- /.info-box-content -->
                </div><!-- /.info-box -->
            </div><!-- /.col -->
            <div class="col-md-3 col-sm-6 col-xs-12">
                <div class="info-box">
                    <span class="info-box-icon bg-red"><i class="fa fa-user"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">User Accounts</span>
                        <span class="info-box-number">{{vm.useraccounts.length}}</span>
                    </div><!-- /.info-box-content -->
                </div><!-- /.info-box -->
            </div><!-- /.col -->
            <!-- fix for small devices only -->
            <div class="clearfix visible-sm-block"></div>
            <div class="col-md-3 col-sm-6 col-xs-12">
                <div class="info-box">
                    <span class="info-box-icon bg-green"><i class="fa fa-shopping-cart"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Products Sold</span>
                        <span class="info-box-number">{{vm.transactions.length}}</span>
                    </div><!-- /.info-box-content -->
                </div><!-- /.info-box -->
            </div><!-- /.col -->
            <div class="col-md-3 col-sm-6 col-xs-12">
                <div class="info-box">
                    <span class="info-box-icon bg-yellow"><i class="fa fa-plus"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Bookings</span>
                        <span class="info-box-number">{{vm.yogabookings.length + vm.astrologybookings.length}}</span>
                    </div><!-- /.info-box-content -->
                </div><!-- /.info-box -->
            </div><!-- /.col -->
        </div><!-- /.row -->
        <div class="row">
            <div class="col-md-12">
                <div class="box">
                    <div class="box-header with-border">
                        <h3 class="box-title">Weekly Report</h3>
                        <!--<div class="box-tools pull-right">
                            <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                            <div class="btn-group">
                                <button class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown"><i class="fa fa-wrench"></i></button>
                                <ul class="dropdown-menu" role="menu">
                                    <li><a href="#">Action</a></li>
                                    <li><a href="#">Another action</a></li>
                                    <li><a href="#">Something else here</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#">Separated link</a></li>
                                </ul>
                            </div>
                            <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                        </div>-->
                    </div><!-- /.box-header -->
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-12">
                                <p class="text-center">
                                    <strong>Product Sales: {{vm.thisWeek}}</strong>
                                </p>
                                <div class="chart">
                                    <!-- Sales Chart Canvas -->
                                    <canvas id="tchart" style="height: 180px;"></canvas>
                                </div><!-- /.chart-responsive -->
                            </div><!-- /.col -->
                        </div><!-- /.row -->
                    </div><!-- ./box-body -->
                    <div class="box-footer">
                        <div class="row">
                            <div class="col-sm-3 col-xs-6">
                                <div class="description-block border-right">
                                    <span class="description-percentage text-green"><!--<i class="fa fa-caret-up"></i>--> PRODUCTS: {{vm.totalProducts}}</span>
                                    <h5 class="description-header">INR {{vm.weekRevenue}}</h5>
                                    <span class="description-text">WEEK REVENUE</span>
                                </div><!-- /.description-block -->
                            </div><!-- /.col -->
                        </div><!-- /.row -->
                    </div><!-- /.box-footer -->
                </div><!-- /.box -->
            </div><!-- /.col -->
        </div><!-- /.row -->
        <!-- Main row -->
        <div class="row">
            <!-- Left col -->
            <div class="col-md-12">
                <!-- TABLE: LATEST ORDERS -->
                <div class="box box-info">
                    <div class="box-header with-border">
                        <h3 class="box-title">Latest Products Sold</h3>
                        <!--<div class="box-tools pull-right">
                            <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                            <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                        </div>-->
                    </div><!-- /.box-header -->
                    <div class="box-body">
                        <div class="table-responsive">
                            <table class="table no-margin">
                                <thead>
                                    <tr>
                                        <th>Transaction ID</th>
                                        <th>Product</th>
                                        <th>Organization Name</th>
                                        <th>Book Date</th>
                                        <th>Book Time</th>
                                        <th>User Name</th>
                                        <th>User Number</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-ng-repeat="item in vm.transactions | limitTo:10">
                                        <td>{{item.txid}}</td>
                                        <td>{{item.pname}}</td>
                                        <td>{{item.orgname}}</td>
                                        <td>{{item.bookingdate}}</td>
                                        <td>{{item.session}}</td>
                                        <td data-ng-if="item.guest=='true'">{{item.gname}}</td>
                                        <td data-ng-if="item.guest=='true'">{{item.gnumber}}</td>
                                        <td data-ng-if="item.guest=='false'">{{item.uname}}</td>
                                        <td data-ng-if="item.guest=='false'">{{item.unumber}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div><!-- /.table-responsive -->
                    </div><!-- /.box-body -->
                    <div class="box-footer clearfix">
                        <!--<a href="javascript::;" class="btn btn-sm btn-info btn-flat pull-left">Place New Order</a>-->
                        <a href="javascript::;" class="btn btn-sm btn-default btn-flat pull-right">View All Orders</a>
                    </div><!-- /.box-footer -->
                </div><!-- /.box -->
                <div class="row">
                    <div class="col-md-6">
                        <!-- DIRECT CHAT -->
                        <div class="box box-warning direct-chat direct-chat-warning">
                            <div class="box-header with-border">
                                <h3 class="box-title">Latest Astrology Bookings</h3>
                                <div class="box-tools pull-right">
                                    <span class="label label-danger">{{vm.astrologybookings.length}} Bookings</span>
                                    <!--<button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                    <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>-->
                                </div>
                            </div><!-- /.box-header -->
                            <div class="box-body no-padding">
                                <div class="table-responsive">
                                    <table class="table no-margin">
                                        <thead>
                                            <tr>
                                                <th>User Name</th>
                                                <th>Email Address</th>
                                                <th>Number</th>
                                                <th>Book Date &amp; Time</th>
                                                <th>Astrologer</th>
                                                <th>Astrologer Number</th>
                                                <th>Astrologer Address</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr data-ng-repeat="item in vm.astrologybookings | limitTo:5">
                                                <td>{{item.name}}</td>
                                                <td>{{item.emailaddress}}</td>
                                                <td>{{item.number}}</td>
                                                <td>{{item.createddate | date:'dd-MMM-yyyy hh:mm:ss'}}</td>
                                                <td>{{item.orgname}}</td>
                                                <td>{{item.privatenumber}}</td>
                                                <td>{{item.address}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div><!-- /.table-responsive -->
                            </div><!-- /.box-body -->
                            <div class="box-footer text-center">
                                <a href="javascript::" class="uppercase">View All Bookings</a>
                            </div><!-- /.box-footer -->
                        </div><!--/.direct-chat -->
                    </div><!-- /.col -->
                    <div class="col-md-6">
                        <!-- USERS LIST -->
                        <div class="box box-success">
                            <div class="box-header with-border">
                                <h3 class="box-title">Latest Yoga Bookings</h3>
                                <div class="box-tools pull-right">
                                    <span class="label label-danger">{{vm.yogabookings.length}} Bookings</span>
                                </div>
                            </div><!-- /.box-header -->
                            <div class="box-body no-padding">
                                <table class="table no-margin">
                                    <thead>
                                        <tr>
                                            <th>User Name</th>
                                            <th>Email Address</th>
                                            <th>Number</th>
                                            <th>Book Date &amp; Time</th>
                                            <th>Yoga Trainer</th>
                                            <th>Trainer Number</th>
                                            <th>Trainer Address</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr data-ng-repeat="item in vm.yogabookings | limitTo:5">
                                            <td>{{item.name}}</td>
                                            <td>{{item.emailaddress}}</td>
                                            <td>{{item.number}}</td>
                                            <td>{{item.createddate | date:'dd-MMM-yyyy hh:mm:ss'}}</td>
                                            <td>{{item.orgname}}</td>
                                            <td>{{item.privatenumber}}</td>
                                            <td>{{item.address}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div><!-- /.box-body -->
                            <div class="box-footer text-center">
                                <a href="javascript::" class="uppercase">View All Bookings</a>
                            </div><!-- /.box-footer -->
                        </div><!--/.box -->
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- /.col -->
            <div class="col-md-12">
                <!-- USERS LIST -->
                <div class="box box-default">
                    <div class="box-header with-border">
                        <h3 class="box-title">Latest User Accounts</h3>
                        <div class="box-tools pull-right">
                            <span class="label label-danger">{{vm.useraccounts.length}} Accounts</span>
                        </div>
                    </div><!-- /.box-header -->
                    <div class="box-body no-padding">
                        <table class="table no-margin">
                            <thead>
                                <tr>
                                    <th>Cosmic Id</th>
                                    <th>User Name</th>
                                    <th>Mobile Number</th>
                                    <th>Email Address</th>
                                    <th>Date of Birth</th>
                                    <th>Time of Birth</th>
                                    <th>Place of Birth</th>
                                    <th>User Photo</th>
                                    <th>Account Created</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-ng-repeat="item in vm.useraccounts | limitTo:5">
                                    <td>COU{{item.userid}}</td>
                                    <td>{{item.name}}</td>
                                    <td>{{item.number}}</td>
                                    <td>{{item.emailaddress}}</td>
                                    <td>{{item.dob}}</td>
                                    <td>{{item.tob}}</td>
                                    <td>{{item.pob}}</td>
                                    <td>
                                        <div data-ng-if="!item.photo">
                                            <img width="100" height="100" class="img-circle" data-ng-src="{{item.photo}}" alt="User Photo" />
                                        </div>
                                    </td>
                                    <td>{{item.createddate | date:'dd-MMM-yyyy hh:mm a'}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div><!-- /.box-body -->
                    <div class="box-footer text-center">
                        <a href="javascript::" class="uppercase">View All Users</a>
                    </div><!-- /.box-footer -->
                </div><!--/.box -->
            </div><!-- /.col -->
            <div class="col-md-12">
                <!-- USERS LIST -->
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Latest Guest Accounts</h3>
                        <div class="box-tools pull-right">
                            <span class="label label-danger">{{vm.guestaccounts.length}} Accounts</span>
                        </div>
                    </div><!-- /.box-header -->
                    <div class="box-body no-padding">
                        <table class="table no-margin">
                            <thead>
                                <tr>
                                    <th>Cosmic Id</th>
                                    <th>User Name</th>
                                    <th>Mobile Number</th>
                                    <th>Email Address</th>
                                    <th>Date of Birth</th>
                                    <th>Time of Birth</th>
                                    <th>Place of Birth</th>
                                    <th>User Photo</th>
                                    <th>Account Created</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-ng-repeat="item in vm.guestaccounts | limitTo:5">
                                    <td>COU{{item.guestid}}</td>
                                    <td>{{item.name}}</td>
                                    <td>{{item.number}}</td>
                                    <td>{{item.emailaddress}}</td>
                                    <td>{{item.dob}}</td>
                                    <td>{{item.tob}}</td>
                                    <td>{{item.pob}}</td>
                                    <td>
                                        <div data-ng-if="!item.photo">
                                            <img width="100" height="100" class="img-circle" data-ng-src="{{item.photo}}" alt="User Photo" />
                                        </div>
                                    </td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div><!-- /.box-body -->
                    <div class="box-footer text-center">
                        <a href="javascript::" class="uppercase">View All Users</a>
                    </div><!-- /.box-footer -->
                </div><!--/.box -->
            </div><!-- /.col -->
        </div><!-- /.row -->
    </section><!-- /.content -->
</div><!-- /.content-wrapper -->
